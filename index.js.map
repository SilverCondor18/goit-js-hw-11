{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiParams = {\n    key: \"48326966-0a5fa166f497e375098be0f90\",\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\"\n};\n\nexport const searchImages = query => {\n    const searchParams = new URLSearchParams({...apiParams, q: query});\n    return fetch(`https://pixabay.com/api/?${searchParams}`);\n};\n\nexport default searchImages;","export const renderGallery = data => {\n    return data.hits.map(img => {\n        return `<li class='gallery-item'>\n            <a href='${img.largeImageURL}'><img class='gallery-img' src='${img.webformatURL}' alt='${img.tags}'></a>\n            <ul class='user-activity'>\n                <li class='user-activity-item'><span class='user-activity-header'>Likes</span>${img.likes}</li>\n                <li class='user-activity-item'><span class='user-activity-header'>Views</span>${img.views}</li>\n                <li class='user-activity-item'><span class='user-activity-header'>Comments</span>${img.comments}</li>\n                <li class='user-activity-item'><span class='user-activity-header'>Downloads</span>${img.downloads}</li>\n            </ul>\n        </li>`;\n    });\n};\n\nexport default renderGallery;","import searchImages from \"./js/pixabay-api\";\nimport renderGallery from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\n\nconst searchForm = document.querySelector(\".search-form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nconst lightbox = new SimpleLightbox(\".gallery a\", { captionsData: \"alt\" });\n\nconst errMsg = msg => {\n    iziToast.error({\n        title: \"\",\n        message: msg,\n        position: \"topRight\"\n    });\n};\n\nconst formSubmitHandler = event => {\n    event.preventDefault();\n    const query = searchForm.query.value;\n    gallery.innerHTML = \"\";\n    loader.classList.remove(\"hidden-loader\");\n    const queryResult = searchImages(query);\n    queryResult\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .then(data => renderGallery(data))\n        .then(galleryItems => {\n            if (galleryItems.length > 0) {\n                gallery.innerHTML = galleryItems.join('');\n                lightbox.refresh();\n            }\n            else\n            {\n                throw new Error(\"Sorry, there are no images matching your search query. Please try again!\");\n            }\n        })\n        .catch(err => errMsg(err.message))\n        .finally(() => loader.classList.add(\"hidden-loader\"));\n};\n\nsearchForm.addEventListener(\"submit\", formSubmitHandler);"],"names":["apiParams","searchImages","query","searchParams","renderGallery","data","img","searchForm","gallery","loader","lightbox","SimpleLightbox","errMsg","msg","iziToast","formSubmitHandler","event","response","galleryItems","err"],"mappings":"6vBAAA,MAAMA,EAAY,CACd,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,EAEaC,EAAeC,GAAS,CACjC,MAAMC,EAAe,IAAI,gBAAgB,CAAC,GAAGH,EAAW,EAAGE,CAAK,CAAC,EACjE,OAAO,MAAM,4BAA4BC,CAAY,EAAE,CAC3D,ECVaC,EAAgBC,GAClBA,EAAK,KAAK,IAAIC,GACV;AAAA,uBACQA,EAAI,aAAa,mCAAmCA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,gGAEbA,EAAI,KAAK;AAAA,gGACTA,EAAI,KAAK;AAAA,mGACNA,EAAI,QAAQ;AAAA,oGACXA,EAAI,SAAS;AAAA;AAAA,cAG5G,ECNCC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAAE,aAAc,KAAK,CAAE,EAEnEC,EAASC,GAAO,CAClBC,EAAS,MAAM,CACX,MAAO,GACP,QAASD,EACT,SAAU,UAClB,CAAK,CACL,EAEME,EAAoBC,GAAS,CAC/BA,EAAM,eAAc,EACpB,MAAMd,EAAQK,EAAW,MAAM,MAC/BC,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,eAAe,EACnBR,EAAaC,CAAK,EAEjC,KAAKe,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKZ,GAAQD,EAAcC,CAAI,CAAC,EAChC,KAAKa,GAAgB,CAClB,GAAIA,EAAa,OAAS,EACtBV,EAAQ,UAAYU,EAAa,KAAK,EAAE,EACxCR,EAAS,QAAO,MAIhB,OAAM,IAAI,MAAM,0EAA0E,CAE1G,CAAS,EACA,MAAMS,GAAOP,EAAOO,EAAI,OAAO,CAAC,EAChC,QAAQ,IAAMV,EAAO,UAAU,IAAI,eAAe,CAAC,CAC5D,EAEAF,EAAW,iBAAiB,SAAUQ,CAAiB"}